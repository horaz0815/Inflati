<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inflationsrechner</title>
<style>
body { 
  margin: 0; 
  padding: 0; 
  font-family: Arial, sans-serif; 
  background-color: #667eea; 
}
.container { 
  background-color: white; 
  min-height: 100vh; 
}
.header { 
  background-color: #667eea; 
  color: white; 
  padding: 25px 20px; 
  text-align: center; 
}
.header h1 { 
  font-size: 24px; 
  margin: 0 0 5px 0; 
}
.header p { 
  margin: 0; 
  font-size: 14px; 
}
.content { 
  padding: 20px; 
}
.card { 
  background-color: #f5f5f5; 
  border-radius: 12px; 
  padding: 20px; 
  margin-bottom: 15px; 
}
.field { 
  margin-bottom: 15px; 
}
.field label { 
  display: block; 
  font-weight: bold; 
  margin-bottom: 8px; 
  color: #333; 
  font-size: 15px; 
}
.field select, .field input { 
  width: 100%; 
  padding: 12px; 
  border: 2px solid #ddd; 
  border-radius: 8px; 
  font-size: 16px; 
  background-color: white; 
  box-sizing: border-box;
}
.field input { 
  font-weight: bold; 
  color: #667eea; 
}
.button { 
  width: 100%; 
  padding: 15px; 
  border: none; 
  border-radius: 10px; 
  font-size: 16px; 
  font-weight: bold; 
  cursor: pointer; 
  box-sizing: border-box;
}
.button-primary { 
  background-color: #667eea; 
  color: white; 
}
.button-secondary { 
  background-color: white; 
  color: #667eea; 
  border: 2px solid #667eea; 
  margin-top: 15px; 
}
.result { 
  background-color: #667eea; 
  color: white; 
  border-radius: 12px; 
  padding: 20px; 
  margin-top: 15px; 
}
.result h3 { 
  font-size: 16px; 
  margin: 0 0 15px 0; 
}
.result-box { 
  background-color: rgba(255,255,255,0.2); 
  padding: 15px; 
  border-radius: 8px; 
  margin-bottom: 10px; 
}
.result-label { 
  font-size: 13px; 
  margin-bottom: 5px; 
}
.result-value { 
  font-size: 24px; 
  font-weight: bold; 
}
.settings { 
  display: none; 
  position: fixed; 
  top: 0; 
  left: 0; 
  right: 0; 
  bottom: 0; 
  background-color: white; 
  z-index: 999; 
  overflow-y: auto; 
}
.settings-header { 
  background-color: #667eea; 
  color: white; 
  padding: 15px 20px; 
}
.back-button { 
  background-color: rgba(255,255,255,0.3); 
  border: none; 
  color: white; 
  width: 40px; 
  height: 40px; 
  border-radius: 50%; 
  font-size: 20px; 
  cursor: pointer; 
  float: left; 
  margin-right: 15px; 
}
.settings-header h2 { 
  font-size: 20px; 
  margin: 0; 
  padding-top: 8px; 
}
.settings-body { 
  padding: 20px; 
  clear: both; 
}
.section { 
  margin-bottom: 25px; 
}
.section h3 { 
  color: #667eea; 
  font-size: 17px; 
  margin: 0 0 12px 0; 
}
.grid { 
  display: grid; 
  grid-template-columns: 1fr 1fr; 
  gap: 10px; 
}
.grid-item { 
  background-color: #f5f5f5; 
  padding: 10px; 
  border-radius: 8px; 
}
.grid-item label { 
  display: block; 
  font-size: 12px; 
  font-weight: bold; 
  color: #666; 
  margin-bottom: 5px; 
}
.grid-item input { 
  width: 100%; 
  padding: 8px; 
  border: 1px solid #ddd; 
  border-radius: 6px; 
  font-size: 14px; 
  box-sizing: border-box;
}
.variant-box { 
  background-color: #e8eaf6; 
  padding: 12px; 
  border-radius: 8px; 
  margin-bottom: 10px; 
}
.variant-box h4 { 
  margin: 0 0 8px 0; 
  color: #667eea; 
  font-size: 15px; 
}
.info { 
  background-color: #e3f2fd; 
  padding: 10px; 
  border-radius: 6px; 
  font-size: 12px; 
  color: #01579b; 
  margin-bottom: 12px; 
}
.hidden { 
  display: none !important; 
}
.visible { 
  display: block !important; 
}
</style>
</head>
<body>

<div class="container">
  
  <div class="header">
    <h1>üí∂ Inflationsrechner</h1>
    <p>Wertanpassung berechnen</p>
  </div>
  
  <div class="content">
    
    <div class="card">
      <div class="field">
        <label for="basisjahr">Basisjahr w√§hlen</label>
        <select id="basisjahr">
          <option value="2011">2011</option>
          <option value="2012">2012</option>
          <option value="2013">2013</option>
          <option value="2014" selected>2014</option>
          <option value="2015">2015</option>
          <option value="2016">2016</option>
          <option value="2017">2017</option>
          <option value="2018">2018</option>
          <option value="2019">2019</option>
          <option value="2020">2020</option>
          <option value="2021">2021</option>
          <option value="2022">2022</option>
          <option value="2023">2023</option>
          <option value="2024">2024</option>
          <option value="2025">2025</option>
          <option value="2026">2026</option>
        </select>
      </div>
      
      <div class="field">
        <label for="basisbetrag">Basisbetrag in Euro</label>
        <input type="number" id="basisbetrag" value="400" step="0.01">
      </div>
      
      <button class="button button-primary" onclick="berechneInflation()">Jetzt berechnen</button>
    </div>
    
    <div id="ergebnisBereich" class="result hidden">
      <h3>Angepasste Betr√§ge f√ºr 2026</h3>
      <div class="result-box">
        <div class="result-label">SR+UR (LGrp 1,2,3,6)</div>
        <div class="result-value" id="ergebnisSR">‚Ç¨ 0,00</div>
      </div>
      <div class="result-box">
        <div class="result-label">HR+GF+WD (LGrp 4,5)</div>
        <div class="result-value" id="ergebnisHR">‚Ç¨ 0,00</div>
      </div>
    </div>
    
    <button class="button button-secondary" onclick="zeigeEinstellungen()">‚öôÔ∏è Inflationsraten anpassen</button>
    
  </div>
  
</div>

<div id="einstellungenPanel" class="settings">
  <div class="settings-header">
    <button class="back-button" onclick="verbergeEinstellungen()">‚Üê</button>
    <h2>Einstellungen</h2>
  </div>
  
  <div class="settings-body">
    <div class="info">Hier k√∂nnen Sie die Inflationsraten f√ºr alle Jahre anpassen.</div>
    
    <div class="section">
      <h3>Inflationsraten 2011-2025 (%)</h3>
      <div class="grid" id="ratenContainer"></div>
    </div>
    
    <div class="section">
      <h3>Inflationsraten 2026-2030 (Varianten)</h3>
      <div class="info"><strong>SR+UR:</strong> LGrp 1,2,3,6 | <strong>HR+GF+WD:</strong> LGrp 4,5</div>
      <div id="variantenContainer"></div>
    </div>
    
    <button class="button button-primary" onclick="speichereUndBerechne()">Speichern & Berechnen</button>
  </div>
</div>

<script>
var ratenDaten = {
  2011: 2.60, 2012: 4.91, 2013: 4.00, 2014: 3.50, 2015: 2.00,
  2016: 17.75, 2017: 1.60, 2018: 2.80, 2019: 4.15, 2020: 2.82,
  2021: 2.25, 2022: 3.80, 2023: 9.69, 2024: 9.72, 2025: 4.31
};

var variantenDaten = {
  2026: {sr: 3.07, hr: 3.90},
  2027: {sr: 0.00, hr: 0.00},
  2028: {sr: 0.00, hr: 0.00},
  2029: {sr: 0.00, hr: 0.00},
  2030: {sr: 0.00, hr: 0.00}
};

function erstelleEinstellungen() {
  var ratenHTML = '';
  for (var jahr = 2011; jahr <= 2025; jahr++) {
    ratenHTML += '<div class="grid-item">';
    ratenHTML += '<label>' + jahr + '</label>';
    ratenHTML += '<input type="number" id="rate_' + jahr + '" value="' + ratenDaten[jahr] + '" step="0.01">';
    ratenHTML += '</div>';
  }
  document.getElementById('ratenContainer').innerHTML = ratenHTML;
  
  var variantenHTML = '';
  for (var jahr = 2026; jahr <= 2030; jahr++) {
    variantenHTML += '<div class="variant-box">';
    variantenHTML += '<h4>' + jahr + '</h4>';
    variantenHTML += '<div class="grid">';
    variantenHTML += '<div class="grid-item">';
    variantenHTML += '<label>SR+UR (%)</label>';
    variantenHTML += '<input type="number" id="sr_' + jahr + '" value="' + variantenDaten[jahr].sr + '" step="0.01">';
    variantenHTML += '</div>';
    variantenHTML += '<div class="grid-item">';
    variantenHTML += '<label>HR+GF+WD (%)</label>';
    variantenHTML += '<input type="number" id="hr_' + jahr + '" value="' + variantenDaten[jahr].hr + '" step="0.01">';
    variantenHTML += '</div>';
    variantenHTML += '</div></div>';
  }
  document.getElementById('variantenContainer').innerHTML = variantenHTML;
}

function zeigeEinstellungen() {
  document.getElementById('einstellungenPanel').style.display = 'block';
}

function verbergeEinstellungen() {
  document.getElementById('einstellungenPanel').style.display = 'none';
}

function speichereUndBerechne() {
  verbergeEinstellungen();
  berechneInflation();
}

function holeInflationsrate(jahr) {
  var element = document.getElementById('rate_' + jahr);
  if (element) {
    var wert = parseFloat(element.value);
    return isNaN(wert) ? 0 : wert;
  }
  return ratenDaten[jahr] || 0;
}

function holeVariantenrate(jahr, typ) {
  var element = document.getElementById(typ + '_' + jahr);
  if (element) {
    var wert = parseFloat(element.value);
    return isNaN(wert) ? 0 : wert;
  }
  return variantenDaten[jahr][typ] || 0;
}

function berechneAngepasstenBetrag(startJahr, startBetrag, zielJahr, variantentyp) {
  var betrag = startBetrag;
  
  if (zielJahr > startJahr) {
    for (var jahr = startJahr + 1; jahr <= zielJahr; jahr++) {
      var rate;
      if (jahr <= 2025) {
        rate = holeInflationsrate(jahr);
      } else {
        rate = holeVariantenrate(jahr, variantentyp);
      }
      betrag = betrag * (1 + rate / 100);
    }
  } else if (zielJahr < startJahr) {
    for (var jahr = zielJahr + 1; jahr <= startJahr; jahr++) {
      var rate;
      if (jahr <= 2025) {
        rate = holeInflationsrate(jahr);
      } else {
        rate = holeVariantenrate(jahr, variantentyp);
      }
      betrag = betrag / (1 + rate / 100);
    }
  }
  
  return betrag;
}

function berechneInflation() {
  var jahrElement = document.getElementById('basisjahr');
  var betragElement = document.getElementById('basisbetrag');
  
  if (!jahrElement || !betragElement) {
    alert('Fehler: Eingabefelder nicht gefunden!');
    return;
  }
  
  var basisjahr = parseInt(jahrElement.value);
  var basisbetrag = parseFloat(betragElement.value);
  
  if (isNaN(basisbetrag) || basisbetrag <= 0) {
    alert('Bitte geben Sie einen g√ºltigen Betrag ein!');
    return;
  }
  
  var ergebnisSR = berechneAngepasstenBetrag(basisjahr, basisbetrag, 2026, 'sr');
  var ergebnisHR = berechneAngepasstenBetrag(basisjahr, basisbetrag, 2026, 'hr');
  
  var srElement = document.getElementById('ergebnisSR');
  var hrElement = document.getElementById('ergebnisHR');
  var bereichElement = document.getElementById('ergebnisBereich');
  
  if (srElement && hrElement && bereichElement) {
    srElement.textContent = '‚Ç¨ ' + ergebnisSR.toFixed(2);
    hrElement.textContent = '‚Ç¨ ' + ergebnisHR.toFixed(2);
    bereichElement.classList.remove('hidden');
    bereichElement.classList.add('visible');
  }
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', erstelleEinstellungen);
} else {
  erstelleEinstellungen();
}
</script>

</body>
</html>